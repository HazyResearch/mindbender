<mindtagger mode="recall">

  <template for="each-item">
      <!-- TODO use cursor.selection instead of item -->
      <big mindtagger-word-array="item.words" array-format="postgres">
          <span mindtagger-highlight-words index-arrays="tag.more_phenotypes" with-style="background-color: magenta;"></span>
          <span mindtagger-highlight-words index-arrays="tag.more_diseases" with-style="background-color: green;"></span>
          <span mindtagger-highlight-words index-arrays="tag.more_genes" with-style="background-color: cyan;"></span>
          <span mindtagger-highlight-words index-array="item.selection" with-style="border-bottom: 2px solid;"></span>
          <span mindtagger-selectable-words index-array="item.selection"></span>
          <span mindtagger-highlight-words index-array="item.positions" array-format="postgres" with-style="background-color: yellow;"></span>
      </big>
  </template>

  <template for="tags">
      <div ng-init="
        MindtaggerTask.defineTags(
        { more_genes:      { type: 'set' }
        , more_phenotypes: { type: 'set' }
        , more_diseases:   { type: 'set' }
        })
        ">
        <span mindtagger-value-set-tag="'more_genes'" with-value="item.selection"
            render-each-value="item.words | filterArrayByIndexes:value:'postgres'"></span>
    </div>
  </template>

</mindtagger>
