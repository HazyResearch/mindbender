<!DOCTYPE html>
<html>
<head>
<title>View Reports | DeepDive Dashboard</title>
<link rel="stylesheet" href="dashboard/style.css">
</head>
<body>
	<div class="header">View Reports</div>
	<a href="#/dashboard/">< Dashboard</a>
	<br><br>
	
	<div class="tabs">
		<div>Report 1</div>
		<div>Report 2</div>
		<div>Report 3</div>
	</div>
	<div class="clear"></div><br>
	<h1 id="report">Report 1</h1>
	
	<div id="report-table">
	
	</div>
	<div class="report-chart">
		<div id="scatter_plot" class="chart"></div>
		<div id="histogram" class="chart"></div>
		<div id="slider"></div>
	</div>
	
	
	<script>
		function init() {
			console.log("test");
			$.get("dashboard/reports.json", function(json) {
				var report_chart = new ReportChart(json);
				
				report_chart.scatterPlot("scatter_plot");
				report_chart.histogram("histogram", Math.sqrt(json.data.length, 1/3));
				report_chart.buildTable("report-table");
				$("#slider").slider({
					value: Math.sqrt(json.data.length, 1/3),
					slide: function(event, ui) {
						report_chart.histogram("histogram", ui.value);
					}					
				});
			});
		}
		
		$(".tabs div").click(function() {
			$("#report").html($(this).html());
			init();
		});

		init();
	</script>
</body>
</html>
