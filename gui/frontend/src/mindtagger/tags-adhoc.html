<!-- free form tags -->
<span class="btn-group" style="margin-left:20px;">
  <button class="btn btn-default" data-toggle="modal" data-target="#add-tag-modal">
    <i class="glyphicon glyphicon-plus"></i>
    <span class="sr-only">Add Tag</span>
  </button>
</span>
<span ng-repeat="(tagName, tagSchema) in MindtaggerTask.schema.tags" ng-if="!tagSchema.hidden">
  <!-- binary -->
  <label ng-if="tagSchema.type == 'binary'"
    btn-checkbox btn-checkbox-true="true" btn-checkbox-false="null"
    ng-model="tag[tagName]" ng-click="commit(item,tag)"
    ng-class="tag[tagName] ? 'btn-info' : 'btn-default'"
    class="btn"><i class="glyphicon glyphicon-tag"></i>
    <span class="tag-name">{{tagName}}</span>
  </label>
  <!-- TODO render categorical tags with one input box (name) and a dropdown -->
  <!-- TODO render freetext tags with two input boxes: name and value -->
  <!-- TODO autocomplete/typeahead in input boxes -->

  <!-- Set of values as Split button -->
  <span ng-if="tagSchema.type == 'set'" class="btn-group dropup">
    <button type="button" class="btn btn-default"
      ng-class="tagValue == null ? 'btn-default disabled' :
                containsValueInSet(tag, tagName, tagValue) ? 'btn-info' : 'btn-default'"
      ng-click="toggleValueFromSet(tag, tagName, tagValue); commit(item,tag)">{{tagName}}</button>
    <button type="button" class="btn dropdown-toggle" data-toggle="dropdown"
      ng-class="tag[tagName].length > 0 ? 'btn-info' : 'btn-default disabled'">
      <span class="caret"></span>
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul ng-if="tag[tagName].length > 0" class="dropdown-menu" role="menu">
      <!-- TODO custom renderer for value -->
      <!-- TODO removal of each value -->
      <li ng-repeat="value in tag[tagName]"><a>{{value}}</a></li>
      <li class="divider"></li>
      <li><a><i class="fa fa-remove"></i> Remove all</a></li>
    </ul>
  </span>

</span>
